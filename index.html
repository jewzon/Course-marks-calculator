<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Marks Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .container { max-width: 400px; margin: 50px auto; padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
        label { display: block; margin: 10px 0; }
        input { width: 100%; padding: 5px; }
        button { margin: 10px; padding: 10px; cursor: pointer; }
        h3 { margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Course Marks Calculator</h2>
        <label>Internal Exam 1 (out of 40): <input type="number" id="internal1"></label>
        <label>Internal Exam 2 (out of 40): <input type="number" id="internal2"></label>
        <label>Internal Exam 3 (out of 40): <input type="number" id="internal3"></label>
        <label>Attendance (0-5%): <input type="number" id="attendance"></label>
        <label>Assignment (0-10%): <input type="number" id="assignment"></label>
        <label>Main Examination (out of 100): <input type="number" id="mainExam"></label>
        <button onclick="calculateMarks()">Calculate</button>
        <button onclick="calculateRequiredMainExam()">Marks Needed to Pass</button>
        <button onclick="resetFields()">Reset</button>
        <h3>Final Score: <span id="finalScore">—</span>%</h3>
        <h3>Marks Needed in Main Exam: <span id="neededMarks">—</span></h3>
    </div>

    <script>
        function calculateMarks() {
            let internal1 = (parseFloat(document.getElementById("internal1").value) / 40) * 15 || 0;
            let internal2 = (parseFloat(document.getElementById("internal2").value) / 40) * 15 || 0;
            let internal3 = (parseFloat(document.getElementById("internal3").value) / 40) * 15 || 0;
            let attendance = parseFloat(document.getElementById("attendance").value) * 1|| 0;
            let assignment = parseFloat(document.getElementById("assignment").value) * 1 || 0;
            let mainExam = parseFloat(document.getElementById("mainExam").value) * 0.40 || 0;

            let finalScore = (internal1 + internal2 + internal3 + attendance + assignment + mainExam).toFixed(2);
            document.getElementById("finalScore").textContent = finalScore;
        }

        function calculateRequiredMainExam() {
            let internal1 = (parseFloat(document.getElementById("internal1").value) / 40) * 15 || 0;
            let internal2 = (parseFloat(document.getElementById("internal2").value) / 40) * 15 || 0;
            let internal3 = (parseFloat(document.getElementById("internal3").value) / 40) * 15 || 0;
            let attendance = parseFloat(document.getElementById("attendance").value) * 1 || 0;
            let assignment = parseFloat(document.getElementById("assignment").value) * 1 || 0;

            let currentScore = internal1 + internal2 + internal3 + attendance + assignment;
            let neededMainExamMarks = ((50 - currentScore) / 0.40).toFixed(2);

            document.getElementById("neededMarks").textContent = neededMainExamMarks > 0 ? neededMainExamMarks : "You're already passing!";
        }

        function resetFields() {
            document.querySelectorAll("input").forEach(input => input.value = "");
            document.getElementById("finalScore").textContent = "—";
            document.getElementById("neededMarks").textContent = "—";
        }
    </script>
</body>
</html>